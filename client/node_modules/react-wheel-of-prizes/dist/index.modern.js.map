{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\n\n const WheelComponent = ({\n  segments,\n  segColors,\n  winningSegment,\n  onFinished,\n  primaryColor,\n  contrastColor,\n  buttonText\n}) => {\n  let currentSegment = ''\n  let isStarted = false\n  const [isFinished, setFinished] = useState(false)\n  let timerHandle = 0\n  const timerDelay = segments.length\n  let angleCurrent = 0\n  let angleDelta = 0\n  const size = 290\n  let canvasContext = null\n  let maxSpeed = Math.PI / `${segments.length}`\n  const upTime = segments.length * 100\n  const downTime = segments.length * 1000\n  let spinStart = 0\n  let frames = 0\n  const centerX = 300\n  const centerY = 300\n  useEffect(() => {\n    wheelInit()\n    setTimeout(() => {\n      window.scrollTo(0, 1)\n    }, 0)\n  }, [])\n  const wheelInit = () => {\n    initCanvas()\n    wheelDraw()\n  }\n\n  const initCanvas = () => {\n    let canvas = document.getElementById('canvas')\n    if (navigator.appVersion.indexOf('MSIE') !== -1) {\n      canvas = document.createElement('canvas')\n      canvas.setAttribute('width', 1000)\n      canvas.setAttribute('height', 600)\n      canvas.setAttribute('id', 'canvas')\n      document.getElementById('wheel').appendChild(canvas)\n    }\n    canvas.addEventListener('click', spin, false)\n    canvasContext = canvas.getContext('2d')\n  }\n  const spin = () => {\n    isStarted = true\n    if (timerHandle === 0) {\n      spinStart = new Date().getTime()\n      // maxSpeed = Math.PI / ((segments.length*2) + Math.random())\n      maxSpeed = Math.PI / segments.length\n      frames = 0\n      timerHandle = setInterval(onTimerTick, timerDelay)\n    }\n  }\n  const onTimerTick = () => {\n    frames++\n    draw()\n    const duration = new Date().getTime() - spinStart\n    let progress = 0\n    let finished = false\n    if (duration < upTime) {\n      progress = duration / upTime\n      angleDelta = maxSpeed * Math.sin((progress * Math.PI) / 2)\n    } else {\n      if (winningSegment) {\n        if (currentSegment === winningSegment && frames > segments.length) {\n          progress = duration / upTime\n          angleDelta =\n            maxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2)\n          progress = 1\n        } else {\n          progress = duration / downTime\n          angleDelta =\n            maxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2)\n        }\n      } else {\n        progress = duration / downTime\n        angleDelta = maxSpeed * Math.sin((progress * Math.PI) / 2 + Math.PI / 2)\n      }\n      if (progress >= 1) finished = true\n    }\n\n    angleCurrent += angleDelta\n    while (angleCurrent >= Math.PI * 2) angleCurrent -= Math.PI * 2\n    if (finished) {\n      setFinished(true)\n      onFinished(currentSegment)\n      clearInterval(timerHandle)\n      timerHandle = 0\n      angleDelta = 0\n    }\n  }\n\n  const wheelDraw = () => {\n    clear()\n    drawWheel()\n    drawNeedle()\n  }\n\n  const draw = () => {\n    clear()\n    drawWheel()\n    drawNeedle()\n  }\n\n  const drawSegment = (key, lastAngle, angle) => {\n    const ctx = canvasContext\n    const value = segments[key]\n    ctx.save()\n    ctx.beginPath()\n    ctx.moveTo(centerX, centerY)\n    ctx.arc(centerX, centerY, size, lastAngle, angle, false)\n    ctx.lineTo(centerX, centerY)\n    ctx.closePath()\n    ctx.fillStyle = segColors[key]\n    ctx.fill()\n    ctx.stroke()\n    ctx.save()\n    ctx.translate(centerX, centerY)\n    ctx.rotate((lastAngle + angle) / 2)\n    ctx.fillStyle = contrastColor || 'white'\n    ctx.font = 'bold 1em proxima-nova'\n    ctx.fillText(value.substr(0, 21), size / 2 + 20, 0)\n    ctx.restore()\n  }\n\n  const drawWheel = () => {\n    const ctx = canvasContext\n    let lastAngle = angleCurrent\n    const len = segments.length\n    const PI2 = Math.PI * 2\n    ctx.lineWidth = 1\n    ctx.strokeStyle = primaryColor || 'black'\n    ctx.textBaseline = 'middle'\n    ctx.textAlign = 'center'\n    ctx.font = '1em proxima-nova'\n    for (let i = 1; i <= len; i++) {\n      const angle = PI2 * (i / len) + angleCurrent\n      drawSegment(i - 1, lastAngle, angle)\n      lastAngle = angle\n    }\n\n    // Draw a center circle\n    ctx.beginPath()\n    ctx.arc(centerX, centerY, 50, 0, PI2, false)\n    ctx.closePath()\n    ctx.fillStyle = primaryColor || 'black'\n    ctx.lineWidth = 10\n    ctx.strokeStyle = contrastColor || 'white'\n    ctx.fill()\n    ctx.font = 'bold 1em proxima-nova'\n    ctx.fillStyle = contrastColor || 'white'\n    ctx.textAlign = 'center'\n    ctx.fillText(buttonText || 'Spin', centerX, centerY + 3)\n    ctx.stroke()\n\n    // Draw outer circle\n    ctx.beginPath()\n    ctx.arc(centerX, centerY, size, 0, PI2, false)\n    ctx.closePath()\n\n    ctx.lineWidth = 10\n    ctx.strokeStyle = primaryColor || 'black'\n    ctx.stroke()\n  }\n\n  const drawNeedle = () => {\n    const ctx = canvasContext\n    ctx.lineWidth = 1\n    ctx.strokeStyle = contrastColor || 'white'\n    ctx.fileStyle = contrastColor || 'white'\n    ctx.beginPath()\n    ctx.moveTo(centerX + 20, centerY - 50)\n    ctx.lineTo(centerX - 20, centerY - 50)\n    ctx.lineTo(centerX, centerY - 70)\n    ctx.closePath()\n    ctx.fill()\n    const change = angleCurrent + Math.PI / 2\n    let i =\n      segments.length -\n      Math.floor((change / (Math.PI * 2)) * segments.length) -\n      1\n    if (i < 0) i = i + segments.length\n    ctx.textAlign = 'center'\n    ctx.textBaseline = 'middle'\n    ctx.fillStyle = primaryColor || 'black'\n    ctx.font = 'bold 1.5em proxima-nova'\n    currentSegment = segments[i]\n    isStarted && ctx.fillText(currentSegment, centerX + 10, centerY + size + 50)\n  }\n  const clear = () => {\n    const ctx = canvasContext\n    ctx.clearRect(0, 0, 1000, 800)\n  }\n  return (\n    <div id='wheel'>\n      <canvas\n        id='canvas'\n        width='1000'\n        height='800'\n        style={{\n          pointerEvents: isFinished ? 'none' : 'auto'\n        }}\n      />\n    </div>\n  )\n}\nexport default WheelComponent\n"],"names":["WheelComponent","segments","segColors","winningSegment","onFinished","primaryColor","contrastColor","buttonText","currentSegment","isStarted","useState","isFinished","setFinished","timerHandle","timerDelay","length","angleCurrent","angleDelta","size","canvasContext","maxSpeed","Math","PI","upTime","downTime","spinStart","frames","centerX","centerY","useEffect","wheelInit","setTimeout","window","scrollTo","initCanvas","wheelDraw","canvas","document","getElementById","navigator","appVersion","indexOf","createElement","setAttribute","appendChild","addEventListener","spin","getContext","Date","getTime","setInterval","onTimerTick","draw","duration","progress","finished","sin","clearInterval","clear","drawWheel","drawNeedle","drawSegment","key","lastAngle","angle","ctx","value","save","beginPath","moveTo","arc","lineTo","closePath","fillStyle","fill","stroke","translate","rotate","font","fillText","substr","restore","len","PI2","lineWidth","strokeStyle","textBaseline","textAlign","i","fileStyle","change","floor","clearRect","pointerEvents"],"mappings":";;AAEC,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,OAQlB;AAAA,MAPJC,QAOI,QAPJA,QAOI;AAAA,MANJC,SAMI,QANJA,SAMI;AAAA,MALJC,cAKI,QALJA,cAKI;AAAA,MAJJC,UAII,QAJJA,UAII;AAAA,MAHJC,YAGI,QAHJA,YAGI;AAAA,MAFJC,aAEI,QAFJA,aAEI;AAAA,MADJC,UACI,QADJA,UACI;AACJ,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,SAAS,GAAG,KAAhB;;AAFI,kBAG8BC,QAAQ,CAAC,KAAD,CAHtC;AAAA,MAGGC,UAHH;AAAA,MAGeC,WAHf;;AAIJ,MAAIC,WAAW,GAAG,CAAlB;AACA,MAAMC,UAAU,GAAGb,QAAQ,CAACc,MAA5B;AACA,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAMC,IAAI,GAAG,GAAb;AACA,MAAIC,aAAa,GAAG,IAApB;AACA,MAAIC,QAAQ,GAAGC,IAAI,CAACC,EAAL,SAAarB,QAAQ,CAACc,MAAtB,CAAf;AACA,MAAMQ,MAAM,GAAGtB,QAAQ,CAACc,MAAT,GAAkB,GAAjC;AACA,MAAMS,QAAQ,GAAGvB,QAAQ,CAACc,MAAT,GAAkB,IAAnC;AACA,MAAIU,SAAS,GAAG,CAAhB;AACA,MAAIC,MAAM,GAAG,CAAb;AACA,MAAMC,OAAO,GAAG,GAAhB;AACA,MAAMC,OAAO,GAAG,GAAhB;AACAC,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,SAAS;AACTC,IAAAA,UAAU,CAAC,YAAM;AACfC,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,KAFS,EAEP,CAFO,CAAV;AAGD,GALQ,EAKN,EALM,CAAT;;AAMA,MAAMH,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBI,IAAAA,UAAU;AACVC,IAAAA,SAAS;AACV,GAHD;;AAKA,MAAMD,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,QAAIE,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;;AACA,QAAIC,SAAS,CAACC,UAAV,CAAqBC,OAArB,CAA6B,MAA7B,MAAyC,CAAC,CAA9C,EAAiD;AAC/CL,MAAAA,MAAM,GAAGC,QAAQ,CAACK,aAAT,CAAuB,QAAvB,CAAT;AACAN,MAAAA,MAAM,CAACO,YAAP,CAAoB,OAApB,EAA6B,IAA7B;AACAP,MAAAA,MAAM,CAACO,YAAP,CAAoB,QAApB,EAA8B,GAA9B;AACAP,MAAAA,MAAM,CAACO,YAAP,CAAoB,IAApB,EAA0B,QAA1B;AACAN,MAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCM,WAAjC,CAA6CR,MAA7C;AACD;;AACDA,IAAAA,MAAM,CAACS,gBAAP,CAAwB,OAAxB,EAAiCC,IAAjC,EAAuC,KAAvC;AACA3B,IAAAA,aAAa,GAAGiB,MAAM,CAACW,UAAP,CAAkB,IAAlB,CAAhB;AACD,GAXD;;AAYA,MAAMD,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBrC,IAAAA,SAAS,GAAG,IAAZ;;AACA,QAAII,WAAW,KAAK,CAApB,EAAuB;AACrBY,MAAAA,SAAS,GAAG,IAAIuB,IAAJ,GAAWC,OAAX,EAAZ;AAEA7B,MAAAA,QAAQ,GAAGC,IAAI,CAACC,EAAL,GAAUrB,QAAQ,CAACc,MAA9B;AACAW,MAAAA,MAAM,GAAG,CAAT;AACAb,MAAAA,WAAW,GAAGqC,WAAW,CAACC,WAAD,EAAcrC,UAAd,CAAzB;AACD;AACF,GATD;;AAUA,MAAMqC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBzB,IAAAA,MAAM;AACN0B,IAAAA,IAAI;AACJ,QAAMC,QAAQ,GAAG,IAAIL,IAAJ,GAAWC,OAAX,KAAuBxB,SAAxC;AACA,QAAI6B,QAAQ,GAAG,CAAf;AACA,QAAIC,QAAQ,GAAG,KAAf;;AACA,QAAIF,QAAQ,GAAG9B,MAAf,EAAuB;AACrB+B,MAAAA,QAAQ,GAAGD,QAAQ,GAAG9B,MAAtB;AACAN,MAAAA,UAAU,GAAGG,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAhC,CAAxB;AACD,KAHD,MAGO;AACL,UAAInB,cAAJ,EAAoB;AAClB,YAAIK,cAAc,KAAKL,cAAnB,IAAqCuB,MAAM,GAAGzB,QAAQ,CAACc,MAA3D,EAAmE;AACjEuC,UAAAA,QAAQ,GAAGD,QAAQ,GAAG9B,MAAtB;AACAN,UAAAA,UAAU,GACRG,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAvB,GAA2BD,IAAI,CAACC,EAAL,GAAU,CAA9C,CADb;AAEAgC,UAAAA,QAAQ,GAAG,CAAX;AACD,SALD,MAKO;AACLA,UAAAA,QAAQ,GAAGD,QAAQ,GAAG7B,QAAtB;AACAP,UAAAA,UAAU,GACRG,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAvB,GAA2BD,IAAI,CAACC,EAAL,GAAU,CAA9C,CADb;AAED;AACF,OAXD,MAWO;AACLgC,QAAAA,QAAQ,GAAGD,QAAQ,GAAG7B,QAAtB;AACAP,QAAAA,UAAU,GAAGG,QAAQ,GAAGC,IAAI,CAACmC,GAAL,CAAUF,QAAQ,GAAGjC,IAAI,CAACC,EAAjB,GAAuB,CAAvB,GAA2BD,IAAI,CAACC,EAAL,GAAU,CAA9C,CAAxB;AACD;;AACD,UAAIgC,QAAQ,IAAI,CAAhB,EAAmBC,QAAQ,GAAG,IAAX;AACpB;;AAEDvC,IAAAA,YAAY,IAAIC,UAAhB;;AACA,WAAOD,YAAY,IAAIK,IAAI,CAACC,EAAL,GAAU,CAAjC;AAAoCN,MAAAA,YAAY,IAAIK,IAAI,CAACC,EAAL,GAAU,CAA1B;AAApC;;AACA,QAAIiC,QAAJ,EAAc;AACZ3C,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAR,MAAAA,UAAU,CAACI,cAAD,CAAV;AACAiD,MAAAA,aAAa,CAAC5C,WAAD,CAAb;AACAA,MAAAA,WAAW,GAAG,CAAd;AACAI,MAAAA,UAAU,GAAG,CAAb;AACD;AACF,GArCD;;AAuCA,MAAMkB,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBuB,IAAAA,KAAK;AACLC,IAAAA,SAAS;AACTC,IAAAA,UAAU;AACX,GAJD;;AAMA,MAAMR,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBM,IAAAA,KAAK;AACLC,IAAAA,SAAS;AACTC,IAAAA,UAAU;AACX,GAJD;;AAMA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAMC,SAAN,EAAiBC,KAAjB,EAA2B;AAC7C,QAAMC,GAAG,GAAG9C,aAAZ;AACA,QAAM+C,KAAK,GAAGjE,QAAQ,CAAC6D,GAAD,CAAtB;AACAG,IAAAA,GAAG,CAACE,IAAJ;AACAF,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW1C,OAAX,EAAoBC,OAApB;AACAqC,IAAAA,GAAG,CAACK,GAAJ,CAAQ3C,OAAR,EAAiBC,OAAjB,EAA0BV,IAA1B,EAAgC6C,SAAhC,EAA2CC,KAA3C,EAAkD,KAAlD;AACAC,IAAAA,GAAG,CAACM,MAAJ,CAAW5C,OAAX,EAAoBC,OAApB;AACAqC,IAAAA,GAAG,CAACO,SAAJ;AACAP,IAAAA,GAAG,CAACQ,SAAJ,GAAgBvE,SAAS,CAAC4D,GAAD,CAAzB;AACAG,IAAAA,GAAG,CAACS,IAAJ;AACAT,IAAAA,GAAG,CAACU,MAAJ;AACAV,IAAAA,GAAG,CAACE,IAAJ;AACAF,IAAAA,GAAG,CAACW,SAAJ,CAAcjD,OAAd,EAAuBC,OAAvB;AACAqC,IAAAA,GAAG,CAACY,MAAJ,CAAW,CAACd,SAAS,GAAGC,KAAb,IAAsB,CAAjC;AACAC,IAAAA,GAAG,CAACQ,SAAJ,GAAgBnE,aAAa,IAAI,OAAjC;AACA2D,IAAAA,GAAG,CAACa,IAAJ,GAAW,uBAAX;AACAb,IAAAA,GAAG,CAACc,QAAJ,CAAab,KAAK,CAACc,MAAN,CAAa,CAAb,EAAgB,EAAhB,CAAb,EAAkC9D,IAAI,GAAG,CAAP,GAAW,EAA7C,EAAiD,CAAjD;AACA+C,IAAAA,GAAG,CAACgB,OAAJ;AACD,GAnBD;;AAqBA,MAAMtB,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,QAAMM,GAAG,GAAG9C,aAAZ;AACA,QAAI4C,SAAS,GAAG/C,YAAhB;AACA,QAAMkE,GAAG,GAAGjF,QAAQ,CAACc,MAArB;AACA,QAAMoE,GAAG,GAAG9D,IAAI,CAACC,EAAL,GAAU,CAAtB;AACA2C,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,CAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkBhF,YAAY,IAAI,OAAlC;AACA4D,IAAAA,GAAG,CAACqB,YAAJ,GAAmB,QAAnB;AACArB,IAAAA,GAAG,CAACsB,SAAJ,GAAgB,QAAhB;AACAtB,IAAAA,GAAG,CAACa,IAAJ,GAAW,kBAAX;;AACA,SAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIN,GAArB,EAA0BM,CAAC,EAA3B,EAA+B;AAC7B,UAAMxB,KAAK,GAAGmB,GAAG,IAAIK,CAAC,GAAGN,GAAR,CAAH,GAAkBlE,YAAhC;AACA6C,MAAAA,WAAW,CAAC2B,CAAC,GAAG,CAAL,EAAQzB,SAAR,EAAmBC,KAAnB,CAAX;AACAD,MAAAA,SAAS,GAAGC,KAAZ;AACD;;AAGDC,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACK,GAAJ,CAAQ3C,OAAR,EAAiBC,OAAjB,EAA0B,EAA1B,EAA8B,CAA9B,EAAiCuD,GAAjC,EAAsC,KAAtC;AACAlB,IAAAA,GAAG,CAACO,SAAJ;AACAP,IAAAA,GAAG,CAACQ,SAAJ,GAAgBpE,YAAY,IAAI,OAAhC;AACA4D,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,EAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkB/E,aAAa,IAAI,OAAnC;AACA2D,IAAAA,GAAG,CAACS,IAAJ;AACAT,IAAAA,GAAG,CAACa,IAAJ,GAAW,uBAAX;AACAb,IAAAA,GAAG,CAACQ,SAAJ,GAAgBnE,aAAa,IAAI,OAAjC;AACA2D,IAAAA,GAAG,CAACsB,SAAJ,GAAgB,QAAhB;AACAtB,IAAAA,GAAG,CAACc,QAAJ,CAAaxE,UAAU,IAAI,MAA3B,EAAmCoB,OAAnC,EAA4CC,OAAO,GAAG,CAAtD;AACAqC,IAAAA,GAAG,CAACU,MAAJ;AAGAV,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACK,GAAJ,CAAQ3C,OAAR,EAAiBC,OAAjB,EAA0BV,IAA1B,EAAgC,CAAhC,EAAmCiE,GAAnC,EAAwC,KAAxC;AACAlB,IAAAA,GAAG,CAACO,SAAJ;AAEAP,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,EAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkBhF,YAAY,IAAI,OAAlC;AACA4D,IAAAA,GAAG,CAACU,MAAJ;AACD,GAtCD;;AAwCA,MAAMf,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,QAAMK,GAAG,GAAG9C,aAAZ;AACA8C,IAAAA,GAAG,CAACmB,SAAJ,GAAgB,CAAhB;AACAnB,IAAAA,GAAG,CAACoB,WAAJ,GAAkB/E,aAAa,IAAI,OAAnC;AACA2D,IAAAA,GAAG,CAACwB,SAAJ,GAAgBnF,aAAa,IAAI,OAAjC;AACA2D,IAAAA,GAAG,CAACG,SAAJ;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW1C,OAAO,GAAG,EAArB,EAAyBC,OAAO,GAAG,EAAnC;AACAqC,IAAAA,GAAG,CAACM,MAAJ,CAAW5C,OAAO,GAAG,EAArB,EAAyBC,OAAO,GAAG,EAAnC;AACAqC,IAAAA,GAAG,CAACM,MAAJ,CAAW5C,OAAX,EAAoBC,OAAO,GAAG,EAA9B;AACAqC,IAAAA,GAAG,CAACO,SAAJ;AACAP,IAAAA,GAAG,CAACS,IAAJ;AACA,QAAMgB,MAAM,GAAG1E,YAAY,GAAGK,IAAI,CAACC,EAAL,GAAU,CAAxC;AACA,QAAIkE,CAAC,GACHvF,QAAQ,CAACc,MAAT,GACAM,IAAI,CAACsE,KAAL,CAAYD,MAAM,IAAIrE,IAAI,CAACC,EAAL,GAAU,CAAd,CAAP,GAA2BrB,QAAQ,CAACc,MAA/C,CADA,GAEA,CAHF;AAIA,QAAIyE,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGA,CAAC,GAAGvF,QAAQ,CAACc,MAAjB;AACXkD,IAAAA,GAAG,CAACsB,SAAJ,GAAgB,QAAhB;AACAtB,IAAAA,GAAG,CAACqB,YAAJ,GAAmB,QAAnB;AACArB,IAAAA,GAAG,CAACQ,SAAJ,GAAgBpE,YAAY,IAAI,OAAhC;AACA4D,IAAAA,GAAG,CAACa,IAAJ,GAAW,yBAAX;AACAtE,IAAAA,cAAc,GAAGP,QAAQ,CAACuF,CAAD,CAAzB;AACA/E,IAAAA,SAAS,IAAIwD,GAAG,CAACc,QAAJ,CAAavE,cAAb,EAA6BmB,OAAO,GAAG,EAAvC,EAA2CC,OAAO,GAAGV,IAAV,GAAiB,EAA5D,CAAb;AACD,GAvBD;;AAwBA,MAAMwC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClB,QAAMO,GAAG,GAAG9C,aAAZ;AACA8C,IAAAA,GAAG,CAAC2B,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,GAA1B;AACD,GAHD;;AAIA,sBACE;AAAK,IAAA,EAAE,EAAC;AAAR,kBACE;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,KAAK,EAAC,MAFR;AAGE,IAAA,MAAM,EAAC,KAHT;AAIE,IAAA,KAAK,EAAE;AACLC,MAAAA,aAAa,EAAElF,UAAU,GAAG,MAAH,GAAY;AADhC;AAJT,IADF,CADF;AAYD,CAlNA;;;;"}